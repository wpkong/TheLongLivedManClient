require=function e(t,c,n){function s(a,i){if(!c[a]){if(!t[a]){var r="function"==typeof require&&require;if(!i&&r)return r(a,!0);if(o)return o(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=c[a]={exports:{}};t[a][0].call(u.exports,function(e){var c=t[a][1][e];return s(c?c:e)},u,u.exports,e,t,c,n)}return c[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)s(n[a]);return s}({AudioPlayer:[function(e,t,c){"use strict";cc._RFpush(t,"ae592sdlvpLCYM/z3Qt6qGZ","AudioPlayer"),cc.Class({"extends":cc.Component,properties:{Audio_1:{"default":null,displayName:"吼啊",url:cc.AudioClip},Audio_2:{"default":null,displayName:"我是身经百战啦",url:cc.AudioClip},Audio_3:{"default":null,displayName:"按照基本法",url:cc.AudioClip},Audio_4:{"default":null,displayName:"无可奉告",url:cc.AudioClip},Audio_5:{"default":null,displayName:"识得唔识得",url:cc.AudioClip},Audio_6:{"default":null,displayName:"谈笑风生",url:cc.AudioClip},Audio_7:{"default":null,displayName:"还要学习一个",url:cc.AudioClip},Audio_8:{"default":null,displayName:"too young",url:cc.AudioClip}},onLoad:function(){this.audioSet=[];for(var e=1;e<9;++e)this.audioSet.push(this["Audio_"+e])},onCollisionEnter:function(e,t){var c=Math.floor(Math.random()*this.audioSet.length);cc.audioEngine.playEffect(this.audioSet[c],!1)}}),cc._RFpop()},{}],EndBackBtn:[function(e,t,c){"use strict";cc._RFpush(t,"ae547Mm8BFB57OVx1LRPfw/","EndBackBtn"),cc.Class({"extends":cc.Component,properties:{nameInput:{"default":null,type:cc.EditBox},gameScore:{"default":null,type:cc.Label}},onLoad:function(){cc.director.preloadScene("StartScene")},onBtnPressed:function(e){var t=this.nameInput.string,c=this.gameScore.string.substr(0,this.gameScore.string.indexOf("s"));if(""===t)cc.director.getScene().getChildByName("Canvas").runAction(cc.sequence(cc.fadeOut(2),cc.callFunc(function(){cc.director.loadScene("StartScene")})));else{var n=cc.loader.getXMLHttpRequest();n.open("POST","http://game.moha.party:8888/gameRank",!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.onreadystatechange=function(){if(4==n.readyState&&n.status>=200&&n.status<=207){var e=(n.statusText,n.responseText),t=JSON.parse(e);"ok"===t.status&&cc.director.getScene().getChildByName("Canvas").runAction(cc.sequence(cc.fadeOut(2),cc.callFunc(function(){cc.director.loadScene("StartScene")})))}};var s=(new Date).getTime();n.send("name="+t+"_"+s+"&score="+c)}}}),cc._RFpop()},{}],Frog:[function(e,t,c){"use strict";cc._RFpush(t,"35099bp4ZRLfp4mVtkdxT28","Frog"),cc.Class({"extends":cc.Component,properties:{hpBar:{"default":null,type:cc.ProgressBar},secondCount:{"default":null,type:cc.Label},degree:{"default":1,type:Number},canvas:{"default":null,type:cc.Node},hlsHead:{"default":null,type:cc.Sprite},hlsPC:{"default":null,type:cc.ParticleSystem},dxsHead:{"default":null,type:cc.Sprite},dxsPC:{"default":null,type:cc.ParticleSystem},ylsbHead:{"default":null,type:cc.Sprite},ylsbPC:{"default":null,type:cc.ParticleSystem},xddHead:{"default":null,type:cc.Sprite},xddPC:{"default":null,type:cc.ParticleSystem},upgradeHint:{"default":null,type:cc.Label},secondScore:{"default":0,type:Number}},onLoad:function(){this.mouseLocationX=this.node.x,this.mouseLocationY=this.node.y,this.resizeFlag=[!1,!1,!1,!1];var e=this;this.node.on("plusSecond",function(t){e.secondCount.string;e.secondScore+=+t.detail.second;var c=e.secondScore;if(e.secondCount.string=c+"s",!(e.hpBar.progress<=0)&&(e.hpBar.progress+=t.detail.second/10,e.hpBar.progress>1&&(e.hpBar.progress=1),!e.resizeFlag[0]&&c>=20||!e.resizeFlag[1]&&c>=60||!e.resizeFlag[2]&&c>=120||!e.resizeFlag[3]&&c>=200)){var n=cc.spawn(cc.scaleTo(1,1.1+c/100),cc.blink(2,10));e.node.runAction(n),e.degree+=1,e.resizeFlag[e.degree-2]=!0,e.unlockNewHead()}});var t=cc.repeatForever(cc.sequence(cc.rotateBy(.3,10),cc.rotateBy(.3,-10)));this.node.runAction(t),this.node.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.node.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this);var c=this.canvas;c.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),c.on(cc.Node.EventType.MOUSE_MOVE,this.onTouchMove,this)},unlockNewHead:function(){var e=cc.tintTo(2,255,255,255);switch(this.degree){case 2:this.hlsHead.node.runAction(e),this.hlsPC.resetSystem(),this.scheduleOnce(function(){this.hlsPC.stopSystem()},.5),this.upgradeHint.string="续60s后解锁";break;case 3:this.dxsHead.node.runAction(e),this.dxsPC.resetSystem(),this.scheduleOnce(function(){this.dxsPC.stopSystem()},.5),this.upgradeHint.string="续120s后解锁";break;case 4:this.ylsbHead.node.runAction(e),this.ylsbPC.resetSystem(),this.scheduleOnce(function(){this.ylsbPC.stopSystem()},.5),this.upgradeHint.string="续200s后解锁";break;case 5:this.xddHead.node.runAction(e),this.xddPC.resetSystem(),this.scheduleOnce(function(){this.xddPC.stopSystem()},.5),this.upgradeHint.string="天若有情天亦老"}},onTouchMove:function(e){this.mouseLocationX=e.getLocation().x,this.mouseLocationY=e.getLocation().y,this.mouseLocationX>this.node.x?this.node.scaleX=Math.abs(this.node.scaleX):this.node.scaleX=-Math.abs(this.node.scaleX)},onCollisionEnter:function(e,t){var c=e.node.getComponent("Monster").degree;if(this.degree>=c)this.node.emit("plusSecond",{second:c});else{this.hpBar.progress-=c/10;var n=cc.sequence(cc.tintTo(.2,255,0,0),cc.tintTo(.2,255,255,255),cc.tintTo(.2,255,0,0),cc.tintTo(.2,255,255,255),cc.tintTo(.2,255,0,0),cc.tintTo(.2,255,255,255));this.node.runAction(n)}},update:function(e){var t=this.hpBar.progress;t>=0?this.hpBar.progress-=e*(this.secondScore+1)/600:this.node.dispatchEvent(new cc.Event.EventCustom("exitGame",(!0))),this.node.x+=(this.mouseLocationX-this.node.x)*e*3,this.node.y+=(this.mouseLocationY-this.node.y)*e*3}}),cc._RFpop()},{}],GameController:[function(e,t,c){"use strict";cc._RFpush(t,"186cbgCL+NDKq75bLlkxc7t","GameController"),cc.Class({"extends":cc.Component,properties:{player:{"default":null,type:cc.Node},endPrefab:{"default":null,type:cc.Prefab},endAudio:{"default":null,url:cc.AudioClip},gameScore:{"default":null,type:cc.Label}},onLoad:function(){this.node.setOpacity(0),this.node.runAction(cc.fadeIn(1));var e=this,t=cc.director.getCollisionManager();t.enabled=!0,this.node.on("exitGame",function(t){t.stopPropagation();var c=cc.sequence(cc.fadeOut(1),cc.callFunc(function(){cc.audioEngine.playEffect(e.endAudio,!1),e.player.destroy(),e.player.enabled=!1;var t=cc.instantiate(e.endPrefab),c=cc.loader.getXMLHttpRequest();c.open("POST","http://game.moha.party:8888/totalSecond",!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),c.onreadystatechange=function(){if(4==c.readyState&&c.status>=200&&c.status<=207){var e=(c.statusText,c.responseText),n=JSON.parse(e).second;t.getChildByName("worldsecond").getComponent(cc.Label).string=n+"s"}};var n=e.gameScore.string.substr(0,e.gameScore.string.indexOf("s"));c.send("second="+n),t.getChildByName("second").getComponent(cc.Label).string=e.gameScore.string;var s=cc.fadeIn(1);cc.director.getScene().getChildByName("Canvas").getChildByName("EndPage").addChild(t),t.setOpacity(0),t.runAction(s)},e));e.player.runAction(c)})},update:function(e){}}),cc._RFpop()},{}],MonsterController:[function(e,t,c){"use strict";cc._RFpush(t,"34469vP1SBP8ITABod8LgPa","MonsterController"),cc.Class({"extends":cc.Component,properties:{FishPrefab:{"default":null,type:cc.Prefab},WallacePrefab:{"default":null,type:cc.Prefab},DongxiansenPrefab:{"default":null,type:cc.Prefab},ElizabethPrefab:{"default":null,type:cc.Prefab},XidadaPrefab:{"default":null,type:cc.Prefab}},onLoad:function(){this.schedule(function(){this.createMonster(this.FishPrefab)},2),this.schedule(function(){this.createMonster(this.WallacePrefab)},4),this.schedule(function(){this.createMonster(this.DongxiansenPrefab)},8),this.schedule(function(){this.createMonster(this.ElizabethPrefab)},10),this.schedule(function(){this.createMonster(this.XidadaPrefab)},16)},createMonster:function(e){var t=cc.instantiate(e),c=Math.floor(2*Math.random());1===c?t.x=-10:t.x=cc.director.getVisibleSize().width+10,t.y=Math.floor(Math.random()*(cc.director.getVisibleSize().height-40))+1,this.node.addChild(t)}}),cc._RFpop()},{}],Monster:[function(e,t,c){"use strict";cc._RFpush(t,"0f31fTXHZpENby+Bj+cPmZj","Monster"),cc.Class({"extends":cc.Component,name:"Monster",properties:{degree:{"default":1,type:Number}},onLoad:function(){var e=this.node.x;e<0?(this.node.scaleX=-1,this.speed=120):(this.node.scaleX=1,this.speed=-120)},update:function(e){this.node.x+=this.speed*e},onCollisionEnter:function(e,t){0===e.tag&&e.node.getComponent("Frog").degree>=this.degree&&(this.node.destroy(),this.node.enabled=!1)}}),cc._RFpop()},{}],RankDisplay:[function(e,t,c){"use strict";cc._RFpush(t,"8307c7jjpdNnrs56E3RMXrc","RankDisplay"),cc.Class({"extends":cc.Component,properties:{nameList:{"default":null,type:cc.Label},scoreList:{"default":null,type:cc.Label},backAudio:{"default":null,url:cc.AudioClip}},onLoad:function(){this.node.setOpacity(0),this.node.runAction(cc.fadeIn(1));var e=this,t=cc.loader.getXMLHttpRequest();t.open("GET","http://game.moha.party:8888/gameRank",!0),t.onreadystatechange=function(){if(4==t.readyState&&t.status>=200&&t.status<=207){for(var c=(t.statusText,t.responseText),n=JSON.parse(c),s="",o="",a=0;a<n.length;a+=2)s+=n[a].substr(0,n[a].lastIndexOf("_"))+"\n",o+=n[a+1]+"s\n";e.nameList.string=s,e.scoreList.string=o}},t.send(),cc.director.preloadScene("StartScene")},onBackBtnPress:function(e){cc.audioEngine.playEffect(this.backAudio,!1),cc.director.getScene().getChildByName("Canvas").runAction(cc.sequence(cc.fadeOut(1),cc.callFunc(function(){cc.director.loadScene("StartScene")})))}}),cc._RFpop()},{}],StartGame:[function(e,t,c){"use strict";cc._RFpush(t,"40d6aHHoU1JhpTOictVNcMV","StartGame"),cc.Class({"extends":cc.Component,properties:{canvas:{"default":null,type:cc.Node},count:{"default":null,type:cc.Label}},onLoad:function(){var e=this,t=cc.loader.getXMLHttpRequest();t.open("GET","http://game.moha.party:8888/totalSecond",!0),t.onreadystatechange=function(){if(4==t.readyState&&t.status>=200&&t.status<=207){var c=(t.statusText,t.responseText),n=JSON.parse(c);e.count.string=n.second+"s"}},t.send(),cc.director.preloadScene("GameScene"),cc.director.preloadScene("RankScene")},onStartGameBtnPressed:function(e){this.canvas.runAction(cc.sequence(cc.fadeOut(2),cc.callFunc(function(){cc.director.loadScene("GameScene")})))},onRankBtnPressed:function(e){this.canvas.runAction(cc.sequence(cc.fadeOut(2),cc.callFunc(function(){cc.director.loadScene("RankScene")})))}}),cc._RFpop()},{}]},{},["Monster","GameController","MonsterController","Frog","StartGame","RankDisplay","EndBackBtn","AudioPlayer"]);